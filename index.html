<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SWAG 「沂派胡言」活動網頁</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@900&family=Oswald:wght@700&display=swap');
        
        body { background-color: #050505; color: #ffffff; overflow-x: hidden; font-family: 'Noto Sans TC', sans-serif; }
        
        /* 1. 標題霓虹特效 - 確保緩衝 */
        .title-discussion {
            background: linear-gradient(90deg, #ff007f, #ffffff, #ff007f);
            background-size: 200% auto; 
            -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent;
            animation: shine-discussion 3s linear infinite; 
            display: inline-block;
            padding: 0 0.15em;
            overflow: visible;
            line-height: 1.3;
        }
        @keyframes shine-discussion { to { background-position: 200% center; } }

        .title-clinic {
            color: #fff; text-shadow: 0 0 10px #ffd700, 0 0 20px #ffd700;
            animation: clinic-glow 2s ease-in-out infinite alternate; 
            display: inline-block;
        }
        @keyframes clinic-glow {
            from { text-shadow: 0 0 10px #ffd700; transform: skewX(-2deg); }
            to { text-shadow: 0 0 30px #ff8c00; transform: skewX(2deg); }
        }

        /* 2. 區塊背景過度 */
        .bg-event-1 {
            background: radial-gradient(circle at top, #220512 0%, #050505 100%);
            border-top: 1px solid rgba(255, 0, 127, 0.2);
            transition: background 0.8s ease;
        }
        .bg-event-2 {
            background: radial-gradient(circle at top, #1a1408 0%, #050505 100%);
            border-top: 1px solid rgba(255, 215, 0, 0.15);
            transition: background 0.8s ease;
        }

        /* 3. 卡片懸停特效與佈局 */
        .topic-card {
            display: flex;
            flex-direction: column;
            height: 100%;
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .topic-card.active { opacity: 1; transform: translateY(0); }
        .topic-card:hover {
            border-color: rgba(255, 0, 127, 0.6);
            box-shadow: 0 15px 40px rgba(255, 0, 127, 0.3);
            transform: translateY(-10px) scale(1.02);
            background: rgba(255, 255, 255, 0.08);
        }

        .vote-container { margin-top: auto; }

        /* 4. 特效元件 */
        .swag-gradient { background: linear-gradient(135deg, #ff007f 0%, #7b2ff7 100%); }
        .gold-gradient { background: linear-gradient(135deg, #ffd700 0%, #ff8c00 100%); color: #000; box-shadow: 0 0 25px rgba(255, 215, 0, 0.4); }
        .neon-text { animation: flicker 3s infinite alternate; }
        @keyframes flicker {
            0%, 18%, 22%, 25%, 53%, 57%, 100% { text-shadow: 0 0 7px #fff, 0 0 10px #fff, 0 0 42px #ff007f, 0 0 82px #ff007f; }
            20%, 24%, 55% { text-shadow: none; }
        }
        .glitch { animation: glitch 500ms infinite; }
        @keyframes glitch {
            0% { text-shadow: 0.05em 0 0 #ff007f, -0.05em -0.025em 0 #7b2ff7; }
            100% { text-shadow: -0.025em 0 0 #ff007f, -0.025em -0.05em 0 #00ffff; }
        }
        .card-glass { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px); }
        
        .img-mask { 
            -webkit-mask-image: linear-gradient(to bottom, black 60%, transparent 95%); 
            mask-image: linear-gradient(to bottom, black 60%, transparent 95%); 
        }

        .float-icon { animation: float 3s ease-in-out infinite; }
        @keyframes float {
            0%, 100% { transform: translateY(0); opacity: 0.6; }
            50% { transform: translateY(-10px); opacity: 1; }
        }
    </style>
</head>
<body>

    <section class="relative min-h-screen flex flex-col items-center justify-center overflow-hidden bg-black text-center px-4">
        <div class="absolute top-0 left-0 w-full h-[75vh] md:h-screen flex justify-center opacity-40 z-0">
            <img src="https://pub-b817e22edf6447beb72ee04f1adf2d70.r2.dev/%E9%99%B3%E6%B2%82%E7%94%9F%E6%B4%BB%E7%85%A703.jpg" 
                 alt="陳沂" class="w-full max-w-6xl h-full md:h-auto img-mask object-cover object-top">
        </div>
        
        <div class="relative z-10 w-full max-w-5xl flex flex-col items-center">
            <div class="h-16 md:h-32 lg:h-40"></div> 
            
            <img src="https://pub-b817e22edf6447beb72ee04f1adf2d70.r2.dev/SWAG-Logo-White-1200.png" class="h-8 md:h-10 mx-auto mb-6">
            
            <h1 class="font-title text-[clamp(3rem,12vw,11rem)] font-black leading-none mb-8 italic tracking-tight">
                <span class="neon-text text-white">沂派</span><span class="glitch">胡言</span>
            </h1>
            
            <div class="flex flex-col items-center gap-6">
                <div class="bg-white text-black px-4 md:px-6 py-2 font-bold transform skew-x-[-12deg] shadow-[5px_5px_0px_#ff007f] text-xs md:text-lg">
                    話題女王陳沂 2 / 26 正式迴歸
                </div>
                <p class="text-lg md:text-2xl font-bold tracking-[0.1em] md:tracking-[0.3em] text-white">
                    每週四晚間九點 <span class="text-pink-500 border-b-2 border-pink-500">準時開播</span>
                </p>
                
                <div class="flex flex-col sm:flex-row gap-4 mt-6 w-full max-w-lg px-4">
                    <a href="https://swag.live/user/662a4f253a7fe8f3ff7f95f2" target="_blank" 
                       class="w-full flex items-center justify-center gap-2 py-4 px-2 sm:px-4 rounded-2xl bg-pink-600 hover:bg-pink-500 transition-all font-black text-white shadow-lg text-base md:text-lg whitespace-nowrap">
                        <i class="fas fa-heart"></i> 追蹤不錯過開播
                    </a>
                    <button onclick="addToCalendar()" 
                            class="w-full flex items-center justify-center gap-2 py-4 px-2 sm:px-4 rounded-2xl bg-white/10 border border-white/20 hover:bg-white/20 transition-all font-black text-white shadow-lg text-base md:text-lg whitespace-nowrap">
                        <i class="fab fa-google"></i> 加入行事曆
                    </button>
                </div>
            </div>
        </div>
    </section>

    <section id="event1" class="relative py-20 md:py-32 bg-event-1 cursor-default">
        <div class="max-w-6xl mx-auto px-6 text-center">
            <div class="inline-block border border-pink-500 text-pink-500 px-6 py-1 rounded-full text-xs font-black mb-6 uppercase tracking-widest">活動 1</div>
            <div class="mb-6">
                <h2 class="title-discussion text-4xl md:text-6xl font-black italic">本週熱門討論話題</h2>
            </div>
            <p class="text-gray-100 text-sm md:text-lg mb-12 max-w-3xl mx-auto leading-relaxed font-medium">
                參與投票意見並留下 SWAG ID，週週加碼抽 <span class="text-pink-500 font-bold border-b border-pink-500 text-lg md:text-xl">3 位贈送 1000 鑽</span>
            </p>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-left items-stretch px-4 md:px-0">
                <div class="topic-card card-glass p-8 rounded-[2rem] md:rounded-[2.5rem]">
                    <h3 class="text-xl font-bold mb-4 topic-title">1. 365元鹽酥雞貴嗎？</h3>
                    <p class="text-gray-200 text-sm mb-8 leading-relaxed">Dcard 熱議：請客點了 365 元鹽酥雞被抱怨。是拜金還是小氣？</p>
                    <div class="vote-container">
                        <div id="vote-ui-1" class="space-y-3">
                            <button onclick="triggerVote(1, '根本拜金女')" class="w-full py-4 rounded-xl bg-white/5 border border-white/20 hover:bg-pink-600 transition font-bold whitespace-nowrap">根本拜金女</button>
                            <button onclick="triggerVote(1, '男的有夠小氣')" class="w-full py-4 rounded-xl bg-white/5 border border-white/20 hover:bg-purple-600 transition font-bold whitespace-nowrap">男的有夠小氣</button>
                        </div>
                        <div id="res-1" class="hidden animate-pulse mt-4">
                            <div class="w-full h-2 bg-gray-800 rounded-full flex overflow-hidden"><div class="swag-gradient w-[65%]"></div></div>
                            <div class="flex justify-between mt-3 font-bold text-pink-400 text-sm"><span>拜金 65%</span><span>小氣 35%</span></div>
                        </div>
                    </div>
                </div>

                <div class="topic-card card-glass p-8 rounded-[2rem] md:rounded-[2.5rem]">
                    <h3 class="text-xl font-bold mb-4 topic-title">2. 努力存錢 vs 及時行樂</h3>
                    <p class="text-gray-200 text-sm mb-8 leading-relaxed">Threads 激辯：趁年輕花錢享受，還是存錢防老？你的選擇是？</p>
                    <div class="vote-container">
                        <div id="vote-ui-2" class="space-y-3">
                            <button onclick="triggerVote(2, '不存錢等於自殺')" class="w-full py-4 rounded-xl bg-white/5 border border-white/20 hover:bg-pink-600 transition font-bold whitespace-nowrap">不存錢等於自殺</button>
                            <button onclick="triggerVote(2, '存到死也沒用')" class="w-full py-4 rounded-xl bg-white/5 border border-white/20 hover:bg-purple-600 transition font-bold whitespace-nowrap">存到死也沒用</button>
                        </div>
                        <div id="res-2" class="hidden animate-pulse mt-4">
                            <div class="w-full h-2 bg-gray-800 rounded-full flex overflow-hidden"><div class="swag-gradient w-[40%]"></div></div>
                            <div class="flex justify-between mt-3 font-bold text-pink-400 text-sm"><span>存錢 40%</span><span>享樂 60%</span></div>
                        </div>
                    </div>
                </div>

                <div class="topic-card card-glass p-8 rounded-[2rem] md:rounded-[2.5rem]">
                    <h3 class="text-xl font-bold mb-4 topic-title">3. 外遇該被無限檢視嗎？</h3>
                    <p class="text-gray-200 text-sm mb-8 leading-relaxed">公眾人物外遇是私事還是活該被檢視？兩大論戰你站哪一邊？</p>
                    <div class="vote-container">
                        <div id="vote-ui-3" class="space-y-3">
                            <button onclick="triggerVote(3, '關我屁事')" class="w-full py-4 rounded-xl bg-white/5 border border-white/20 hover:bg-pink-600 transition font-bold whitespace-nowrap">關我屁事</button>
                            <button onclick="triggerVote(3, '應被檢視')" class="w-full py-4 rounded-xl bg-white/5 border border-white/20 hover:bg-purple-600 transition font-bold whitespace-nowrap">應被檢視</button>
                        </div>
                        <div id="res-3" class="hidden animate-pulse mt-4">
                            <div class="w-full h-2 bg-gray-800 rounded-full flex overflow-hidden"><div class="swag-gradient w-[45%]"></div></div>
                            <div class="flex justify-between mt-3 font-bold text-pink-400 text-sm"><span>無視 45%</span><span>檢視 55%</span></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="event2" class="relative py-24 md:py-32 bg-event-2 text-center overflow-hidden cursor-default px-4">
        <i class="fas fa-envelope-open-text absolute top-10 left-5 text-orange-400/10 text-6xl float-icon"></i>
        <div class="max-w-4xl mx-auto relative z-10">
            <div class="inline-block border border-orange-400 text-orange-400 px-6 py-1 rounded-full text-xs font-black mb-8 uppercase tracking-widest">活動 2</div>
            <div class="mb-10"><h2 class="title-clinic text-5xl md:text-7xl font-black italic">沂定有藥醫</h2></div>
            <div class="card-glass p-10 md:p-14 rounded-[2.5rem] md:rounded-[3.5rem] border-orange-400/20 mb-12 md:mb-16 relative">
                <div class="absolute -top-6 left-1/2 -translate-x-1/2 bg-black border border-orange-400/50 w-12 h-12 rounded-full flex items-center justify-center text-orange-400 text-xl">
                    <i class="fas fa-inbox"></i>
                </div>
                <p class="text-gray-100 text-xl md:text-3xl leading-relaxed italic font-medium">
                    「你有病，我有藥。<br>私訊陳沂並在開頭註明：<span class="text-orange-400 font-black">「沂定有藥醫 投稿」</span>寫下你的困擾，陳沂將在當周直播現場幫你治腦袋。」
                </p>
            </div>
            <a href="https://swag.live/chat/697e24355646481dfa12fbe0" target="_blank" class="w-full sm:w-auto inline-flex items-center justify-center px-16 py-6 rounded-full gold-gradient text-black font-black text-2xl hover:scale-105 transition shadow-2xl">
                <i class="fas fa-envelope-open-text mr-3"></i> 立即投稿心事
            </a>
        </div>
    </section>

    <footer class="bg-black py-12 border-t border-white/5">
        <div class="flex flex-col items-center justify-center gap-4 text-center px-4">
            <div class="flex flex-col md:flex-row items-center justify-center gap-4">
                <span class="text-gray-300 text-sm md:text-base tracking-widest">亞洲最大成人直播平台</span>
                <img src="https://pub-b817e22edf6447beb72ee04f1adf2d70.r2.dev/SWAG-Logo-White-1200.png" alt="SWAG" class="h-6 opacity-90 inline-block">
                <span class="text-gray-300 text-sm md:text-base tracking-widest">限 18 歲以上用戶登錄</span>
            </div>
            <p class="text-gray-600 text-xs tracking-tighter uppercase mt-4">© 2026 SWAG.LIVE ALL RIGHTS RESERVED.</p>
        </div>
    </footer>

    <div id="modal" class="fixed inset-0 z-[100] hidden items-center justify-center bg-black/95 p-6 text-center">
        <div class="card-glass p-10 md:p-14 rounded-[2.5rem] w-full max-w-md border-pink-500/50">
            <h2 class="text-2xl font-black mb-6">參加鑽石抽獎</h2>
            <input type="text" id="swid" placeholder="Your SWAG ID" class="w-full bg-black border border-white/10 rounded-2xl px-6 py-4 mb-8 text-white text-center text-xl outline-none focus:border-pink-500">
            <button id="submitBtn" onclick="closeModalWithResult()" class="w-full swag-gradient py-4 rounded-xl font-black text-xl mb-4 whitespace-nowrap">送出並看結果</button>
            <button onclick="toggleModal()" class="text-gray-400 text-sm">關閉</button>
        </div>
    </div>

    <script>
        function addToCalendar() {
            const title = "陳沂開播中 - 沂派胡言";
            const details = "SWAG「沂派胡言」每週四晚間九點準時開播！\n直播間：https://swag.live/user/662a4f253a7fe8f3ff7f95f2";
            const now = new Date();
            const nextThursday = new Date();
            nextThursday.setDate(now.getDate() + (4 + 7 - now.getDay()) % 7);
            if (now.getDay() === 4 && now.getHours() >= 21) nextThursday.setDate(nextThursday.getDate() + 7);
            nextThursday.setHours(21, 0, 0);
            const startStr = nextThursday.toISOString().replace(/-|:|\.\d\d\d/g, "");
            nextThursday.setHours(22, 0, 0);
            const endStr = nextThursday.toISOString().replace(/-|:|\.\d\d\d/g, "");
            const calendarUrl = `https://www.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(title)}&dates=${startStr}/${endStr}&details=${encodeURIComponent(details)}&recur=RRULE:FREQ=WEEKLY;BYDAY=TH&sf=true&output=xml`;
            window.open(calendarUrl, '_blank');
        }

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('active'); });
        }, { threshold: 0.1 });
        document.querySelectorAll('.topic-card').forEach(card => observer.observe(card));

        let currentTopic = { id: null, title: "", option: "" };
        function triggerVote(id, optionText) {
            const card = document.querySelectorAll('.topic-card')[id-1];
            currentTopic = { id: id, title: card.querySelector('.topic-title').innerText, option: optionText };
            toggleModal();
        }

        function toggleModal() {
            const m = document.getElementById('modal');
            m.classList.toggle('hidden');
            m.classList.toggle('flex');
        }

        function closeModalWithResult() {
            const swid = document.getElementById('swid').value;
            if(swid === "") { alert("請填寫 ID 參加抽獎！"); return; }
            
            // 此處填入你的 Google Apps Script URL
            const scriptURL = 'YOUR_GOOGLE_APPS_SCRIPT_URL'; 
            const submitBtn = document.getElementById('submitBtn');
            submitBtn.disabled = true;
            submitBtn.innerText = "紀錄中...";

            const formData = new URLSearchParams();
            formData.append('swagID', swid);
            formData.append('topic', currentTopic.title);
            formData.append('option', currentTopic.option);

            fetch(scriptURL, {
                method: 'POST',
                mode: 'no-cors',
                body: formData
            }).then(() => { showFinalResults(swid); }).catch(() => { showFinalResults(swid); });
        }

        function showFinalResults(swid) {
            toggleModal();
            const id = currentTopic.id;
            document.getElementById('vote-ui-' + id).classList.add('hidden');
            document.getElementById('res-' + id).classList.remove('hidden');
            alert(`已成功送出！您的 SWAG ID (${swid}) 已參與 1000 鑽抽獎。\n記得週五來直播間對獎！`);
            document.getElementById('submitBtn').disabled = false;
            document.getElementById('submitBtn').innerText = "送出並看結果";
            document.getElementById('swid').value = "";
        }
    </script>
</body>
</html>
